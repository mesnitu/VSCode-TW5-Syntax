"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getVSCodeTokens = exports.renderSnap = exports.parseSnap = void 0;
const parsing_1 = require("./parsing");
Object.defineProperty(exports, "parseSnap", { enumerable: true, get: function () { return parsing_1.parseSnap; } });
Object.defineProperty(exports, "renderSnap", { enumerable: true, get: function () { return parsing_1.renderSnap; } });
async function getVSCodeTokens(registry, scope, source) {
    return registry.loadGrammar(scope).then((grammar) => {
        if (!grammar) {
            throw new Error(`Could not load scope ${scope}`);
        }
        let ruleStack = null;
        return source.split(/\r\n|\n/).map((line, n) => {
            var { tokens, ruleStack: ruleStack1 } = grammar.tokenizeLine(line, ruleStack);
            ruleStack = ruleStack1;
            return {
                src: line,
                tokens: tokens
            };
        });
    });
}
exports.getVSCodeTokens = getVSCodeTokens;
//# sourceMappingURL=index.js.map